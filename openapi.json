{
  "openapi": "3.1.0",
  "info": {
    "title": "soma",
    "version": "v1"
  },
  "paths": {
    "/_internal/v1/health": {
      "get": {
        "tags": [
          "_internal",
          "v1"
        ],
        "summary": "Health check",
        "description": "Check the health status of the service and SDK server connectivity",
        "operationId": "health-check",
        "responses": {
          "200": {
            "description": "Service is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckSdkHealthResponse"
                }
              }
            }
          },
          "503": {
            "description": "Service unavailable - SDK server not ready"
          }
        }
      }
    },
    "/_internal/v1/resync_sdk": {
      "post": {
        "tags": [
          "_internal",
          "v1"
        ],
        "summary": "Resync SDK",
        "description": "Resync providers, agents, secrets, and environment variables between API server and SDK",
        "operationId": "resync-sdk",
        "responses": {
          "200": {
            "description": "SDK resynced successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResyncSdkResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/_internal/v1/runtime_config": {
      "get": {
        "tags": [
          "_internal",
          "v1"
        ],
        "summary": "Get runtime config",
        "description": "Get the current runtime configuration",
        "operationId": "get-internal-runtime-config",
        "responses": {
          "200": {
            "description": "Runtime config",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuntimeConfigResponse"
                }
              }
            }
          }
        }
      }
    },
    "/_internal/v1/trigger_codegen": {
      "post": {
        "tags": [
          "_internal",
          "v1"
        ],
        "summary": "Trigger codegen",
        "description": "Trigger code generation for the SDK",
        "operationId": "trigger-codegen",
        "responses": {
          "200": {
            "description": "Codegen triggered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerCodegenResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/agent": {
      "get": {
        "tags": [
          "agent",
          "v1"
        ],
        "summary": "List available agents",
        "description": "List all available agents from the agent cache",
        "operationId": "list-agents",
        "responses": {
          "200": {
            "description": "List of agents",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListAgentsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/agent/{project_id}/{agent_id}/a2a": {
      "post": {
        "tags": [
          "agent",
          "v1"
        ],
        "summary": "Handle A2A JSON-RPC for specific agent",
        "description": "Handle JSON-RPC requests for agent-to-agent communication for a specific agent",
        "operationId": "handle-a2a-jsonrpc-request",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "description": "Project ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agent_id",
            "in": "path",
            "description": "Agent ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JsonrpcRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful response"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/agent/{project_id}/{agent_id}/a2a/.well-known/agent.json": {
      "get": {
        "tags": [
          "agent",
          "v1"
        ],
        "summary": "Get agent card for specific agent",
        "description": "Get the agent card describing agent capabilities and metadata for a specific agent",
        "operationId": "get-agent-card",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "description": "Project ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agent_id",
            "in": "path",
            "description": "Agent ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agent card",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentCard"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "List providers",
        "description": "List all available provider types that can be instantiated",
        "operationId": "list-available-providers",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List available providers",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderControllerSerializedPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Create provider",
        "description": "Create a new provider instance with the specified configuration",
        "operationId": "create-provider-instance",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProviderInstanceParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create provider instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderInstanceSerialized"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/resource-server": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Create resource server credential",
        "description": "Create a new resource server credential",
        "operationId": "create-resource-server-credential",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateResourceServerCredentialParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create resource server credential",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResourceServerCredentialSerialized"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/resource-server/encrypt": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Encrypt resource server config",
        "description": "Encrypt a resource server credential configuration before storage",
        "operationId": "encrypt-resource-server-configuration",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EncryptCredentialConfigurationParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Encrypt resource server configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WrappedJsonValue"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/user-credential": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Create user credential",
        "description": "Create a new user credential",
        "operationId": "create-user-credential",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserCredentialParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create user credential",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCredentialSerialized"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/user-credential/broker": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Start credential brokering",
        "description": "Start the OAuth flow for user credential brokering",
        "operationId": "start-user-credential-brokering",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartUserCredentialBrokeringParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Start user credential brokering",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCredentialBrokeringResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/user-credential/encrypt": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Encrypt user credential config",
        "description": "Encrypt a user credential configuration before storage",
        "operationId": "encrypt-user-credential-configuration",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EncryptCredentialConfigurationParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Encrypt user credential configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WrappedJsonValue"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/function-instances": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "List function instances",
        "description": "List all function instances with optional filtering by provider instance",
        "operationId": "list-function-instances",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "provider_instance_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List function instances",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FunctionInstanceSerializedPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/function-instances/openapi.json": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Get function OpenAPI spec",
        "description": "Get the OpenAPI specification for all function instances",
        "operationId": "get-function-instances-openapi-spec",
        "responses": {
          "200": {
            "description": "Get function instances openapi spec",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/generic-oauth-callback": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "OAuth callback",
        "description": "Handle OAuth callback to complete user credential brokering flow",
        "operationId": "resume-user-credential-brokering",
        "parameters": [
          {
            "name": "state",
            "in": "query",
            "description": "OAuth state parameter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code",
            "in": "query",
            "description": "OAuth authorization code",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "error",
            "in": "query",
            "description": "OAuth error code",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "error_description",
            "in": "query",
            "description": "OAuth error description",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Generic OAuth callback",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCredentialBrokeringResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/mcp-server": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "List MCP server instances",
        "description": "List all MCP server instances with pagination",
        "operationId": "list-mcp-server-instances",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List MCP server instances",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpServerInstanceSerializedWithFunctionsPaginatedResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Create MCP server instance",
        "description": "Create a new MCP server instance with a user-provided ID",
        "operationId": "create-mcp-server-instance",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMcpServerInstanceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create MCP server instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpServerInstanceSerializedWithFunctions"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/mcp-server/{mcp_server_instance_id}": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Get MCP server instance",
        "description": "Retrieve an MCP server instance by its ID",
        "operationId": "get-mcp-server-instance",
        "parameters": [
          {
            "name": "mcp_server_instance_id",
            "in": "path",
            "description": "MCP server instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get MCP server instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpServerInstanceSerializedWithFunctions"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Delete MCP server instance",
        "description": "Delete an MCP server instance and all its function mappings",
        "operationId": "delete-mcp-server-instance",
        "parameters": [
          {
            "name": "mcp_server_instance_id",
            "in": "path",
            "description": "MCP server instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Delete MCP server instance"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Update MCP server instance",
        "description": "Update an MCP server instance name",
        "operationId": "update-mcp-server-instance",
        "parameters": [
          {
            "name": "mcp_server_instance_id",
            "in": "path",
            "description": "MCP server instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMcpServerInstanceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update MCP server instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpServerInstanceSerializedWithFunctions"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/mcp-server/{mcp_server_instance_id}/function": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Add function to MCP server instance",
        "description": "Add a function mapping to an MCP server instance with a custom name",
        "operationId": "add-mcp-server-instance-function",
        "parameters": [
          {
            "name": "mcp_server_instance_id",
            "in": "path",
            "description": "MCP server instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddMcpServerInstanceFunctionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Add function to MCP server instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpServerInstanceSerializedWithFunctions"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (function name already exists)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/mcp-server/{mcp_server_instance_id}/function/{function_controller_type_id}/{provider_controller_type_id}/{provider_instance_id}": {
      "delete": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Remove function from MCP server instance",
        "description": "Remove a function mapping from an MCP server instance",
        "operationId": "remove-mcp-server-instance-function",
        "parameters": [
          {
            "name": "mcp_server_instance_id",
            "in": "path",
            "description": "MCP server instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "function_controller_type_id",
            "in": "path",
            "description": "Function controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Remove function from MCP server instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpServerInstanceSerializedWithFunctions"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Update function in MCP server instance",
        "description": "Update the function name and description for a function mapping",
        "operationId": "update-mcp-server-instance-function",
        "parameters": [
          {
            "name": "mcp_server_instance_id",
            "in": "path",
            "description": "MCP server instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "function_controller_type_id",
            "in": "path",
            "description": "Function controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMcpServerInstanceFunctionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update function in MCP server instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/McpServerInstanceSerializedWithFunctions"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (function name already exists)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "List provider instances",
        "description": "List all provider instances with optional filtering by status and provider type",
        "operationId": "list-provider-instances",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "provider_controller_type_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List provider instances",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderInstanceListItemPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/grouped-by-function": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "List providers by function",
        "description": "List provider instances grouped by their associated functions",
        "operationId": "list-provider-instances-grouped-by-function",
        "parameters": [
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "provider_controller_type_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "function_category",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List provider instances grouped by function",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FunctionInstanceConfigPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/{provider_instance_id}": {
      "get": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Get provider",
        "description": "Retrieve a provider instance by its unique identifier",
        "operationId": "get-provider-instance",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get provider instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderInstanceSerializedWithEverything"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Delete provider",
        "description": "Delete a provider instance by its unique identifier",
        "operationId": "delete-provider-instance",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Delete provider instance",
            "content": {
              "application/json": {
                "schema": {
                  "default": null
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Update provider",
        "description": "Update an existing provider instance configuration",
        "operationId": "update-provider-instance",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProviderInstanceParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update provider instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/{provider_instance_id}/function/{function_controller_type_id}/disable": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Disable function",
        "description": "Disable a function for a provider instance",
        "operationId": "disable-function",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "function_controller_type_id",
            "in": "path",
            "description": "Function controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Disable function",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/{provider_instance_id}/function/{function_controller_type_id}/enable": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Enable function",
        "description": "Enable a function for a provider instance",
        "operationId": "enable-function",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "function_controller_type_id",
            "in": "path",
            "description": "Function controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EnableFunctionParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Enable function",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FunctionInstanceSerialized"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/{provider_instance_id}/function/{function_controller_type_id}/invoke": {
      "post": {
        "tags": [
          "bridge",
          "v1"
        ],
        "summary": "Invoke function",
        "description": "Invoke a function on a provider instance",
        "operationId": "invoke-function",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "function_controller_type_id",
            "in": "path",
            "description": "Function controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InvokeFunctionParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Invoke function",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvokeResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/encryption/v1/dek/alias": {
      "post": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Create DEK alias",
        "description": "Create an alias for a data encryption key to enable lookup by friendly name",
        "operationId": "create-dek-alias",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDekAliasRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create DEK alias",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataEncryptionKeyAlias"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/encryption/v1/dek/alias/{alias}": {
      "get": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Get DEK by alias",
        "description": "Retrieve a data encryption key by its alias or ID",
        "operationId": "get-dek-by-alias-or-id",
        "parameters": [
          {
            "name": "alias",
            "in": "path",
            "description": "DEK alias or ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get DEK by alias or ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataEncryptionKey"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Update DEK alias",
        "description": "Update the alias for a data encryption key",
        "operationId": "update-dek-alias",
        "parameters": [
          {
            "name": "alias",
            "in": "path",
            "description": "DEK alias",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAliasParams"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update DEK alias",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataEncryptionKeyAlias"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Delete DEK alias",
        "description": "Delete an alias for a data encryption key",
        "operationId": "delete-dek-alias",
        "parameters": [
          {
            "name": "alias",
            "in": "path",
            "description": "DEK alias",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Delete DEK alias"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/encryption/v1/envelope": {
      "get": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "List envelope keys",
        "description": "List all envelope encryption keys (master keys) with pagination",
        "operationId": "list-envelope-encryption-keys",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List envelope encryption keys",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnvelopeEncryptionKeyPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Create envelope key",
        "description": "Create a new envelope encryption key (master key) for encrypting data encryption keys",
        "operationId": "create-envelope-encryption-key",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EnvelopeEncryptionKey"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create envelope encryption key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnvelopeEncryptionKey"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/encryption/v1/envelope/{envelope_id}/dek": {
      "get": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "List data keys",
        "description": "List all data encryption keys encrypted with the specified envelope encryption key",
        "operationId": "list-data-encryption-keys-by-envelope",
        "parameters": [
          {
            "name": "envelope_id",
            "in": "path",
            "description": "Envelope encryption key ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List data encryption keys",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataEncryptionKeyListItemPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Create data key",
        "description": "Create a new data encryption key (DEK) encrypted with the specified envelope encryption key",
        "operationId": "create-data-encryption-key",
        "parameters": [
          {
            "name": "envelope_id",
            "in": "path",
            "description": "Envelope encryption key ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDataEncryptionKeyParamsRoute"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create data encryption key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataEncryptionKey"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/encryption/v1/envelope/{envelope_id}/dek/import": {
      "post": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Import data key",
        "description": "Import an existing pre-encrypted data encryption key into the system",
        "operationId": "import-data-encryption-key",
        "parameters": [
          {
            "name": "envelope_id",
            "in": "path",
            "description": "Envelope encryption key ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportDataEncryptionKeyParamsRoute"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Import data encryption key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataEncryptionKey"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/encryption/v1/envelope/{envelope_id}/dek/{dek_id}/migrate": {
      "post": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Migrate data key",
        "description": "Migrate a data encryption key to be encrypted with a different envelope encryption key",
        "operationId": "migrate-data-encryption-key",
        "parameters": [
          {
            "name": "envelope_id",
            "in": "path",
            "description": "Envelope encryption key ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dek_id",
            "in": "path",
            "description": "Data encryption key ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MigrateDataEncryptionKeyParamsRoute"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Migrate data encryption key"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/encryption/v1/envelope/{envelope_id}/migrate": {
      "post": {
        "tags": [
          "encryption",
          "v1"
        ],
        "summary": "Migrate all data keys",
        "description": "Migrate all data encryption keys encrypted with the specified envelope key to a new envelope key",
        "operationId": "migrate-all-data-encryption-keys",
        "parameters": [
          {
            "name": "envelope_id",
            "in": "path",
            "description": "Envelope encryption key ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MigrateAllDataEncryptionKeysParamsRoute"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Migrate all data encryption keys"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/environment-variable/v1": {
      "get": {
        "tags": [
          "environment-variable",
          "v1"
        ],
        "summary": "List environment variables",
        "description": "List all environment variables with pagination",
        "operationId": "list-environment-variables",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List environment variables",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListEnvironmentVariablesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "environment-variable",
          "v1"
        ],
        "summary": "Create environment variable",
        "description": "Create a new environment variable with the specified key and value",
        "operationId": "create-environment-variable",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnvironmentVariableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create an environment variable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnvironmentVariable"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/environment-variable/v1/import": {
      "post": {
        "tags": [
          "environment-variable",
          "v1"
        ],
        "summary": "Import environment variable",
        "description": "Import an existing environment variable into the system",
        "operationId": "import-environment-variable",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportEnvironmentVariableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Import an environment variable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnvironmentVariable"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/environment-variable/v1/key/{key}": {
      "get": {
        "tags": [
          "environment-variable",
          "v1"
        ],
        "summary": "Get environment variable by key",
        "description": "Retrieve an environment variable by its key name",
        "operationId": "get-environment-variable-by-key",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "description": "Environment variable key",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get environment variable by key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnvironmentVariable"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/environment-variable/v1/{env_var_id}": {
      "get": {
        "tags": [
          "environment-variable",
          "v1"
        ],
        "summary": "Get environment variable",
        "description": "Retrieve an environment variable by its unique identifier",
        "operationId": "get-environment-variable-by-id",
        "parameters": [
          {
            "name": "env_var_id",
            "in": "path",
            "description": "Environment variable ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get environment variable by id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnvironmentVariable"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "environment-variable",
          "v1"
        ],
        "summary": "Update environment variable",
        "description": "Update an existing environment variable's value",
        "operationId": "update-environment-variable",
        "parameters": [
          {
            "name": "env_var_id",
            "in": "path",
            "description": "Environment variable ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEnvironmentVariableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update environment variable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnvironmentVariable"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "environment-variable",
          "v1"
        ],
        "summary": "Delete environment variable",
        "description": "Delete an environment variable by its unique identifier",
        "operationId": "delete-environment-variable",
        "parameters": [
          {
            "name": "env_var_id",
            "in": "path",
            "description": "Environment variable ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Delete environment variable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteEnvironmentVariableResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/.well-known/jwks.json": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "operationId": "route_get_jwks",
        "responses": {
          "200": {
            "description": "JWKS (JSON Web Key Set)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JwksResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/api-key": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "operationId": "route_list_api_keys",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List of API keys",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListApiKeysResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "identity",
          "v1"
        ],
        "operationId": "route_create_api_key",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateApiKeyParams"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "API key created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateApiKeyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/api-key/import": {
      "post": {
        "tags": [
          "identity",
          "v1"
        ],
        "operationId": "route_import_api_key",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EncryptedApiKeyConfig"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "API key imported successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/api-key/{id}": {
      "delete": {
        "tags": [
          "identity",
          "v1"
        ],
        "operationId": "route_delete_api_key",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the API key to delete",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "API key deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "404": {
            "description": "API key not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/auth/authorize/{config_id}": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Start authorization",
        "description": "Initiates the OAuth/OIDC authorization flow by redirecting to the external IdP",
        "operationId": "route_start_authorization",
        "parameters": [
          {
            "name": "config_id",
            "in": "path",
            "description": "ID of the user auth flow configuration to use",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "redirect_after_login",
            "in": "query",
            "description": "Optional override for where to redirect after successful login",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "/"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to IdP authorization endpoint"
          },
          "404": {
            "description": "Configuration not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/auth/callback": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Authorization callback",
        "description": "Handles the OAuth/OIDC callback from the external IdP, exchanges the authorization code for tokens",
        "operationId": "route_auth_callback",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "description": "Authorization code from the IdP",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "abc123"
          },
          {
            "name": "state",
            "in": "query",
            "description": "State parameter for CSRF validation",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "xyz789"
          },
          {
            "name": "error",
            "in": "query",
            "description": "Error from the IdP (if any)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "access_denied"
          },
          {
            "name": "error_description",
            "in": "query",
            "description": "Error description from the IdP",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "User denied access"
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to post-login URL with tokens set"
          },
          "400": {
            "description": "Invalid request or OAuth error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/auth/refresh": {
      "post": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Refresh access token",
        "description": "Refreshes an access token using a refresh token from the request body or cookie",
        "operationId": "route_refresh_token",
        "requestBody": {
          "description": "Optional refresh token in body. If not provided, will be read from cookie.",
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "type": "null"
                  },
                  {
                    "$ref": "#/components/schemas/RefreshTokenRequest"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refresh successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/auth/whoami": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Get current identity",
        "description": "Returns the current authenticated identity based on the request headers (Authorization header, cookies, or API key)",
        "operationId": "route_whoami",
        "responses": {
          "200": {
            "description": "Current authenticated identity",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Identity"
                }
              }
            }
          },
          "401": {
            "description": "Authentication failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/jwk": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "operationId": "route_list_jwks",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List of JWKs",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JwkResponsePaginatedResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/jwk/{kid}/invalidate": {
      "post": {
        "tags": [
          "identity",
          "v1"
        ],
        "operationId": "route_invalidate_jwk",
        "parameters": [
          {
            "name": "kid",
            "in": "path",
            "description": "Key ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "JWK invalidated successfully"
          },
          "404": {
            "description": "JWK not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/sts-configuration": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "List STS configurations",
        "description": "List all STS configurations with optional filtering by type",
        "operationId": "route_list_sts_configs",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List of STS configurations",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StsTokenConfigPaginatedResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Create STS configuration",
        "description": "Create a new STS configuration (e.g., JWT template or dev settings)",
        "operationId": "route_create_sts_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StsTokenConfig"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "STS configuration created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StsTokenConfig"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/sts-configuration/{id}": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Get STS configuration",
        "description": "Get an STS configuration by ID",
        "operationId": "route_get_sts_config",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the STS configuration to retrieve",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "STS configuration found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StsTokenConfig"
                }
              }
            }
          },
          "404": {
            "description": "STS configuration not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Delete STS configuration",
        "description": "Delete an STS configuration by ID",
        "operationId": "route_delete_sts_config",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the STS configuration to delete",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "STS configuration deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "404": {
            "description": "STS configuration not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/sts/{sts_config_id}": {
      "post": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Exchange STS token",
        "description": "Exchange an external token for internal access and refresh tokens using an STS configuration",
        "operationId": "route_exchange_sts_token",
        "parameters": [
          {
            "name": "sts_config_id",
            "in": "path",
            "description": "STS configuration ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Token exchange successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NormalizedTokenIssuanceResult"
                }
              }
            }
          },
          "401": {
            "description": "Authentication failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "STS config not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/user-auth-flow-config": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "List user auth flow configurations",
        "description": "List all user auth flow configurations with optional filtering by type",
        "operationId": "route_list_user_auth_flow_configs",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int32",
              "minimum": 0
            },
            "example": "10"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": ""
          },
          {
            "name": "type",
            "in": "query",
            "description": "Filter by configuration type (oidc_authorization_code_flow, oauth_authorization_code_flow, etc.)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            },
            "example": "oidc_authorization_code_flow"
          }
        ],
        "responses": {
          "200": {
            "description": "List of user auth flow configurations",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListUserAuthFlowConfigResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Create user auth flow configuration",
        "description": "Create a new user auth flow configuration for OAuth/OIDC authorization flows. The configuration will be encrypted before storage.",
        "operationId": "route_create_user_auth_flow_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserAuthFlowConfigParams"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User auth flow configuration created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateUserAuthFlowConfigResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/user-auth-flow-config/import": {
      "post": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Import user auth flow configuration",
        "description": "Import an already encrypted user auth flow configuration (idempotent, used for syncing from soma.yaml)",
        "operationId": "route_import_user_auth_flow_config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportUserAuthFlowConfigParams"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User auth flow configuration imported successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/identity/v1/user-auth-flow-config/{id}": {
      "get": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Get user auth flow configuration",
        "description": "Get a user auth flow configuration by ID. Returns the encrypted configuration.",
        "operationId": "route_get_user_auth_flow_config",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the user auth flow configuration to retrieve",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User auth flow configuration found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserAuthFlowConfigResponse"
                }
              }
            }
          },
          "404": {
            "description": "User auth flow configuration not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "identity",
          "v1"
        ],
        "summary": "Delete user auth flow configuration",
        "description": "Delete a user auth flow configuration by ID",
        "operationId": "route_delete_user_auth_flow_config",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the user auth flow configuration to delete",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User auth flow configuration deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "404": {
            "description": "User auth flow configuration not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/secret/v1": {
      "get": {
        "tags": [
          "secret",
          "v1"
        ],
        "summary": "List secrets",
        "description": "List all secrets with pagination (values are encrypted)",
        "operationId": "list-secrets",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List secrets",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSecretsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "secret",
          "v1"
        ],
        "summary": "Create secret",
        "description": "Create a new encrypted secret with the specified key and value",
        "operationId": "create-secret",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSecretRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create a secret",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Secret"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/secret/v1/import": {
      "post": {
        "tags": [
          "secret",
          "v1"
        ],
        "summary": "Import secret",
        "description": "Import an existing pre-encrypted secret into the system",
        "operationId": "import-secret",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImportSecretRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Import a pre-encrypted secret",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Secret"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/secret/v1/key/{key}": {
      "get": {
        "tags": [
          "secret",
          "v1"
        ],
        "summary": "Get secret by key",
        "description": "Retrieve a secret by its key name",
        "operationId": "get-secret-by-key",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "description": "Secret key",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get secret by key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Secret"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/secret/v1/list-decrypted": {
      "get": {
        "tags": [
          "secret",
          "v1"
        ],
        "summary": "List decrypted secrets",
        "description": "List all secrets with decrypted values (requires decryption access)",
        "operationId": "list-decrypted-secrets",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List secrets with decrypted values",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListDecryptedSecretsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/secret/v1/{secret_id}": {
      "get": {
        "tags": [
          "secret",
          "v1"
        ],
        "summary": "Get secret",
        "description": "Retrieve a secret by its unique identifier",
        "operationId": "get-secret-by-id",
        "parameters": [
          {
            "name": "secret_id",
            "in": "path",
            "description": "Secret ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get secret by id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Secret"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "secret",
          "v1"
        ],
        "summary": "Update secret",
        "description": "Update an existing secret's value or metadata",
        "operationId": "update-secret",
        "parameters": [
          {
            "name": "secret_id",
            "in": "path",
            "description": "Secret ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSecretRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update secret",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Secret"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "secret",
          "v1"
        ],
        "summary": "Delete secret",
        "description": "Delete a secret by its unique identifier",
        "operationId": "delete-secret",
        "parameters": [
          {
            "name": "secret_id",
            "in": "path",
            "description": "Secret ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Delete secret",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteSecretResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1": {
      "get": {
        "tags": [
          "task",
          "v1"
        ],
        "summary": "List tasks",
        "description": "List all tasks with pagination",
        "operationId": "list-tasks",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List tasks",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/context": {
      "get": {
        "tags": [
          "task",
          "v1"
        ],
        "summary": "List contexts",
        "description": "List all unique task contexts with pagination",
        "operationId": "list-contexts",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List contexts",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextInfoPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/context/{context_id}/task": {
      "get": {
        "tags": [
          "task",
          "v1"
        ],
        "summary": "List tasks by context",
        "description": "List all tasks for a specific context ID with pagination",
        "operationId": "list-tasks-by-context-id",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "context_id",
            "in": "path",
            "description": "Context ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List tasks",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/{task_id}": {
      "get": {
        "tags": [
          "task",
          "v1"
        ],
        "summary": "Get task",
        "description": "Retrieve a task by its unique identifier",
        "operationId": "get-task-by-id",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get task by id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskWithDetails"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "task",
          "v1"
        ],
        "summary": "Update task status",
        "description": "Update the status of a task",
        "operationId": "update-task-status",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTaskStatusRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update task status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/{task_id}/message": {
      "post": {
        "tags": [
          "task",
          "v1"
        ],
        "summary": "Send message",
        "description": "Send a message to a task",
        "operationId": "send-message",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create message",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/{task_id}/timeline": {
      "get": {
        "tags": [
          "task",
          "v1"
        ],
        "summary": "Get task timeline",
        "description": "Get the timeline history of a task with pagination",
        "operationId": "task-history",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get task timeline items",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskTimelineItemPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AddMcpServerInstanceFunctionRequest": {
        "type": "object",
        "required": [
          "function_controller_type_id",
          "provider_controller_type_id",
          "provider_instance_id",
          "function_name"
        ],
        "properties": {
          "function_controller_type_id": {
            "type": "string"
          },
          "function_description": {
            "type": [
              "string",
              "null"
            ]
          },
          "function_name": {
            "type": "string"
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "provider_instance_id": {
            "type": "string"
          }
        }
      },
      "AgentCard": {
        "type": "object"
      },
      "AgentListItem": {
        "type": "object",
        "description": "Agent list item for list response",
        "required": [
          "project_id",
          "agent_id"
        ],
        "properties": {
          "agent_id": {
            "type": "string",
            "description": "The agent ID"
          },
          "project_id": {
            "type": "string",
            "description": "The project ID"
          }
        }
      },
      "BrokerAction": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "Redirect"
            ],
            "properties": {
              "Redirect": {
                "$ref": "#/components/schemas/BrokerActionRedirect"
              }
            }
          },
          {
            "type": "string",
            "enum": [
              "None"
            ]
          }
        ]
      },
      "BrokerActionRedirect": {
        "type": "object",
        "required": [
          "url"
        ],
        "properties": {
          "url": {
            "type": "string"
          }
        }
      },
      "BrokerState": {
        "type": "object",
        "required": [
          "id",
          "created_at",
          "updated_at",
          "provider_instance_id",
          "provider_controller_type_id",
          "credential_controller_type_id",
          "metadata",
          "action"
        ],
        "properties": {
          "action": {
            "$ref": "#/components/schemas/BrokerAction"
          },
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "credential_controller_type_id": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "provider_instance_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "CheckSdkHealthResponse": {
        "type": "object"
      },
      "ConfigurationSchema": {
        "type": "object",
        "required": [
          "resource_server",
          "user_credential"
        ],
        "properties": {
          "resource_server": {
            "$ref": "#/components/schemas/JsonSchema"
          },
          "user_credential": {
            "$ref": "#/components/schemas/JsonSchema"
          }
        }
      },
      "ContextInfo": {
        "type": "object",
        "required": [
          "context_id",
          "created_at"
        ],
        "properties": {
          "context_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "ContextInfoPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContextInfo"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "CreateApiKeyParams": {
        "type": "object",
        "description": "Parameters for creating an API key",
        "required": [
          "id",
          "role"
        ],
        "properties": {
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Description of the API key"
          },
          "id": {
            "type": "string",
            "description": "The ID for this API key"
          },
          "role": {
            "$ref": "#/components/schemas/Role",
            "description": "Role to assign to the API key's user"
          }
        }
      },
      "CreateApiKeyResponse": {
        "type": "object",
        "description": "Response from creating an API key",
        "required": [
          "id",
          "api_key"
        ],
        "properties": {
          "api_key": {
            "type": "string",
            "description": "The raw API key value (only returned once, not stored)"
          },
          "id": {
            "type": "string",
            "description": "The API key ID"
          }
        }
      },
      "CreateDataEncryptionKeyParamsRoute": {
        "type": "object",
        "properties": {
          "encrypted_dek": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "CreateDekAliasRequest": {
        "type": "object",
        "required": [
          "dek_id",
          "alias"
        ],
        "properties": {
          "alias": {
            "type": "string"
          },
          "dek_id": {
            "type": "string"
          }
        }
      },
      "CreateEnvironmentVariableRequest": {
        "type": "object",
        "required": [
          "key",
          "value"
        ],
        "properties": {
          "key": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        }
      },
      "CreateMcpServerInstanceRequest": {
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "CreateMessageRequest": {
        "type": "object",
        "required": [
          "reference_task_ids",
          "role",
          "metadata",
          "parts"
        ],
        "properties": {
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "parts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessagePart"
            }
          },
          "reference_task_ids": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          },
          "role": {
            "$ref": "#/components/schemas/MessageRole"
          }
        }
      },
      "CreateMessageResponse": {
        "type": "object",
        "required": [
          "message",
          "timeline_item"
        ],
        "properties": {
          "message": {
            "$ref": "#/components/schemas/Message"
          },
          "timeline_item": {
            "$ref": "#/components/schemas/TaskTimelineItem"
          }
        }
      },
      "CreateProviderInstanceParamsInner": {
        "type": "object",
        "required": [
          "resource_server_credential_id",
          "display_name"
        ],
        "properties": {
          "display_name": {
            "type": "string"
          },
          "provider_instance_id": {
            "type": [
              "string",
              "null"
            ]
          },
          "resource_server_credential_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "return_on_successful_brokering": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ReturnAddress"
              }
            ]
          },
          "user_credential_id": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedUuidV4"
              }
            ]
          }
        }
      },
      "CreateResourceServerCredentialParamsInner": {
        "type": "object",
        "required": [
          "resource_server_configuration",
          "dek_alias"
        ],
        "properties": {
          "dek_alias": {
            "type": "string"
          },
          "metadata": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Metadata"
              }
            ]
          },
          "resource_server_configuration": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "CreateSecretRequest": {
        "type": "object",
        "required": [
          "key",
          "raw_value",
          "dek_alias"
        ],
        "properties": {
          "dek_alias": {
            "type": "string"
          },
          "key": {
            "type": "string"
          },
          "raw_value": {
            "type": "string"
          }
        }
      },
      "CreateUserAuthFlowConfigParams": {
        "type": "object",
        "description": "Parameters for creating a user auth flow configuration",
        "required": [
          "config"
        ],
        "properties": {
          "config": {
            "$ref": "#/components/schemas/UserAuthFlowConfig",
            "description": "The configuration to create (unencrypted)"
          }
        }
      },
      "CreateUserAuthFlowConfigResponse": {
        "type": "object",
        "description": "Response from creating a user auth flow configuration",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the created configuration"
          }
        }
      },
      "CreateUserCredentialParamsInner": {
        "type": "object",
        "required": [
          "user_credential_configuration",
          "dek_alias"
        ],
        "properties": {
          "dek_alias": {
            "type": "string"
          },
          "metadata": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Metadata"
              }
            ]
          },
          "user_credential_configuration": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "DataEncryptionKey": {
        "type": "object",
        "required": [
          "id",
          "envelope_encryption_key_id",
          "encrypted_data_encryption_key",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "encrypted_data_encryption_key": {
            "$ref": "#/components/schemas/EncryptedDataEncryptionKey"
          },
          "envelope_encryption_key_id": {
            "$ref": "#/components/schemas/EnvelopeEncryptionKey"
          },
          "id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "DataEncryptionKeyAlias": {
        "type": "object",
        "description": "Data encryption key alias struct",
        "required": [
          "alias",
          "data_encryption_key_id",
          "created_at"
        ],
        "properties": {
          "alias": {
            "type": "string"
          },
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "data_encryption_key_id": {
            "type": "string"
          }
        }
      },
      "DataEncryptionKeyListItem": {
        "type": "object",
        "required": [
          "id",
          "envelope_encryption_key_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "envelope_encryption_key_id": {
            "$ref": "#/components/schemas/EnvelopeEncryptionKey"
          },
          "id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "DataEncryptionKeyListItemPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DataEncryptionKeyListItem"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "DecryptedSecret": {
        "type": "object",
        "required": [
          "id",
          "key",
          "decrypted_value",
          "dek_alias",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "decrypted_value": {
            "type": "string"
          },
          "dek_alias": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "key": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "DeleteEnvironmentVariableResponse": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "DeleteSecretResponse": {
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "DevModeConfig": {
        "type": "object",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "$ref": "#/components/schemas/String"
          }
        }
      },
      "EnableFunctionParamsInner": {
        "type": "object"
      },
      "EncryptCredentialConfigurationParamsInner": {
        "type": "object",
        "description": "Parameters for encrypting credential configuration.\nUses dek_alias to look up the DEK to use for encryption.",
        "required": [
          "value",
          "dek_alias"
        ],
        "properties": {
          "dek_alias": {
            "type": "string",
            "description": "The DEK alias to use for encryption (resolved to actual DEK id internally)"
          },
          "value": {
            "$ref": "#/components/schemas/WrappedJsonValue",
            "description": "The raw credential configuration value to encrypt"
          }
        }
      },
      "EncryptedApiKeyConfig": {
        "type": "object",
        "description": "Parameters for importing an API key",
        "required": [
          "id",
          "encrypted_hashed_value",
          "dek_alias",
          "role",
          "user_id"
        ],
        "properties": {
          "dek_alias": {
            "type": "string",
            "description": "The DEK alias used for encryption"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Description of the API key"
          },
          "encrypted_hashed_value": {
            "type": "string",
            "description": "The encrypted hashed value of the API key"
          },
          "id": {
            "type": "string",
            "description": "The ID of the API key"
          },
          "role": {
            "$ref": "#/components/schemas/Role",
            "description": "Role to assign to the API key's user"
          },
          "user_id": {
            "type": "string",
            "description": "The user ID for this API key"
          }
        }
      },
      "EncryptedDataEncryptionKey": {
        "type": "string"
      },
      "EncryptedOauthConfig": {
        "type": "object",
        "description": "OAuth2 configuration for authorization code flow",
        "required": [
          "id",
          "authorization_endpoint",
          "token_endpoint",
          "jwks_endpoint",
          "client_id",
          "encrypted_client_secret",
          "dek_alias",
          "scopes",
          "mapping"
        ],
        "properties": {
          "authorization_endpoint": {
            "type": "string"
          },
          "client_id": {
            "type": "string"
          },
          "dek_alias": {
            "type": "string"
          },
          "encrypted_client_secret": {
            "$ref": "#/components/schemas/EncryptedString"
          },
          "id": {
            "type": "string"
          },
          "introspect_url": {
            "type": [
              "string",
              "null"
            ],
            "description": "Token introspection endpoint URL (RFC 7662)"
          },
          "jwks_endpoint": {
            "type": "string"
          },
          "mapping": {
            "$ref": "#/components/schemas/TokenMapping"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "token_endpoint": {
            "type": "string"
          }
        }
      },
      "EncryptedOidcConfig": {
        "type": "object",
        "description": "OIDC configuration extending OAuth2 with discovery and ID token support",
        "required": [
          "id",
          "base_config",
          "mapping"
        ],
        "properties": {
          "base_config": {
            "$ref": "#/components/schemas/EncryptedOauthConfig"
          },
          "discovery_endpoint": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "string"
          },
          "introspect_url": {
            "type": [
              "string",
              "null"
            ],
            "description": "Token introspection endpoint URL (RFC 7662)"
          },
          "mapping": {
            "$ref": "#/components/schemas/TokenMapping"
          },
          "userinfo_endpoint": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "EncryptedString": {
        "type": "string"
      },
      "EncryptedUserAuthFlowConfig": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "oidc_authorization_code_flow"
            ],
            "properties": {
              "oidc_authorization_code_flow": {
                "$ref": "#/components/schemas/EncryptedOidcConfig"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "oauth_authorization_code_flow"
            ],
            "properties": {
              "oauth_authorization_code_flow": {
                "$ref": "#/components/schemas/EncryptedOauthConfig"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "oidc_authorization_code_pkce_flow"
            ],
            "properties": {
              "oidc_authorization_code_pkce_flow": {
                "$ref": "#/components/schemas/EncryptedOidcConfig"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "oauth_authorization_code_pkce_flow"
            ],
            "properties": {
              "oauth_authorization_code_pkce_flow": {
                "$ref": "#/components/schemas/EncryptedOauthConfig"
              }
            }
          }
        ]
      },
      "EnvelopeEncryptionKey": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/EnvelopeEncryptionKeyAwsKms"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "aws_kms"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/EnvelopeEncryptionKeyLocal"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "local"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "EnvelopeEncryptionKeyAwsKms": {
        "type": "object",
        "required": [
          "arn",
          "region"
        ],
        "properties": {
          "arn": {
            "type": "string"
          },
          "region": {
            "type": "string"
          }
        }
      },
      "EnvelopeEncryptionKeyLocal": {
        "type": "object",
        "required": [
          "file_name"
        ],
        "properties": {
          "file_name": {
            "type": "string"
          }
        }
      },
      "EnvelopeEncryptionKeyPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnvelopeEncryptionKey"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "EnvironmentVariable": {
        "type": "object",
        "required": [
          "id",
          "key",
          "value",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "key": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "value": {
            "type": "string"
          }
        }
      },
      "Error": {
        "type": "object",
        "required": [
          "name",
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "FunctionControllerSerialized": {
        "type": "object",
        "required": [
          "type_id",
          "name",
          "documentation",
          "parameters",
          "output",
          "categories"
        ],
        "properties": {
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "documentation": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "output": {
            "$ref": "#/components/schemas/JsonSchema"
          },
          "parameters": {
            "$ref": "#/components/schemas/JsonSchema"
          },
          "type_id": {
            "type": "string"
          }
        }
      },
      "FunctionInstanceConfig": {
        "type": "object",
        "required": [
          "function_controller",
          "provider_controller",
          "provider_instances"
        ],
        "properties": {
          "function_controller": {
            "$ref": "#/components/schemas/FunctionControllerSerialized"
          },
          "provider_controller": {
            "$ref": "#/components/schemas/ProviderControllerSerialized"
          },
          "provider_instances": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderInstanceSerializedWithCredentials"
            }
          }
        }
      },
      "FunctionInstanceConfigPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FunctionInstanceConfig"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "FunctionInstanceListItem": {
        "allOf": [
          {
            "$ref": "#/components/schemas/FunctionInstanceSerialized"
          },
          {
            "type": "object",
            "required": [
              "controller"
            ],
            "properties": {
              "controller": {
                "$ref": "#/components/schemas/FunctionControllerSerialized"
              }
            }
          }
        ]
      },
      "FunctionInstanceSerialized": {
        "type": "object",
        "required": [
          "function_controller_type_id",
          "provider_controller_type_id",
          "provider_instance_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "function_controller_type_id": {
            "type": "string"
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "provider_instance_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "FunctionInstanceSerializedPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FunctionInstanceSerialized"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "GetUserAuthFlowConfigResponse": {
        "type": "object",
        "description": "Response from getting a user auth flow configuration",
        "required": [
          "config",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "config": {
            "$ref": "#/components/schemas/EncryptedUserAuthFlowConfig",
            "description": "The configuration (encrypted)"
          },
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime",
            "description": "When the configuration was created"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime",
            "description": "When the configuration was last updated"
          }
        }
      },
      "GroupToRoleMapping": {
        "type": "object",
        "required": [
          "group",
          "role"
        ],
        "properties": {
          "group": {
            "type": "string"
          },
          "role": {
            "$ref": "#/components/schemas/Role"
          }
        }
      },
      "HashedApiKey": {
        "type": "object",
        "required": [
          "id",
          "hashed_value",
          "user_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "hashed_value": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "user_id": {
            "type": "string"
          }
        }
      },
      "Human": {
        "type": "object",
        "description": "Authenticated human identity",
        "required": [
          "sub",
          "groups",
          "role"
        ],
        "properties": {
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "groups": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "role": {
            "$ref": "#/components/schemas/Role"
          },
          "sub": {
            "type": "string"
          }
        }
      },
      "Identity": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/Machine",
                "description": "Machine identity (API key authentication)"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "machine"
                    ]
                  }
                }
              }
            ],
            "description": "Machine identity (API key authentication)"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/Human",
                "description": "Human identity (STS token authentication)"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "human"
                    ]
                  }
                }
              }
            ],
            "description": "Human identity (STS token authentication)"
          },
          {
            "type": "object",
            "description": "Machine acting on behalf of a human",
            "required": [
              "machine",
              "human",
              "type"
            ],
            "properties": {
              "human": {
                "$ref": "#/components/schemas/Human"
              },
              "machine": {
                "$ref": "#/components/schemas/Machine"
              },
              "type": {
                "type": "string",
                "enum": [
                  "machine_on_behalf_of_human"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Unauthenticated request",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "unauthenticated"
                ]
              }
            }
          }
        ],
        "description": "Authenticated identity"
      },
      "ImportDataEncryptionKeyParamsRoute": {
        "type": "object",
        "required": [
          "encrypted_data_encryption_key"
        ],
        "properties": {
          "encrypted_data_encryption_key": {
            "type": "string"
          },
          "id": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ImportEnvironmentVariableRequest": {
        "type": "object",
        "required": [
          "key",
          "value"
        ],
        "properties": {
          "key": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        }
      },
      "ImportSecretRequest": {
        "type": "object",
        "required": [
          "key",
          "encrypted_value",
          "dek_alias"
        ],
        "properties": {
          "dek_alias": {
            "type": "string"
          },
          "encrypted_value": {
            "type": "string"
          },
          "key": {
            "type": "string"
          }
        }
      },
      "ImportUserAuthFlowConfigParams": {
        "type": "object",
        "description": "Parameters for importing a user auth flow configuration (already encrypted)",
        "required": [
          "config"
        ],
        "properties": {
          "config": {
            "$ref": "#/components/schemas/EncryptedUserAuthFlowConfig",
            "description": "The encrypted configuration to import"
          }
        }
      },
      "InvokeError": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "InvokeFunctionParamsInner": {
        "type": "object",
        "required": [
          "params"
        ],
        "properties": {
          "params": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "InvokeResult": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/WrappedJsonValue"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "success"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvokeError"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "error"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "JsonSchema": {
        "type": "object",
        "additionalProperties": true
      },
      "JsonrpcRequest": {
        "type": "object"
      },
      "Jwk": {
        "type": "object",
        "required": [
          "kty",
          "kid",
          "use",
          "alg",
          "n",
          "e"
        ],
        "properties": {
          "alg": {
            "type": "string"
          },
          "e": {
            "type": "string"
          },
          "kid": {
            "type": "string"
          },
          "kty": {
            "type": "string"
          },
          "n": {
            "type": "string"
          },
          "use": {
            "type": "string"
          }
        }
      },
      "JwkResponse": {
        "type": "object",
        "required": [
          "kid",
          "publicKey",
          "expiresAt",
          "createdAt"
        ],
        "properties": {
          "createdAt": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "expiresAt": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "kid": {
            "type": "string"
          },
          "publicKey": {
            "type": "string"
          }
        }
      },
      "JwkResponsePaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/JwkResponse"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "JwksResponse": {
        "type": "object",
        "required": [
          "keys"
        ],
        "properties": {
          "keys": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Jwk"
            }
          }
        }
      },
      "JwtTemplateModeConfig": {
        "type": "object",
        "required": [
          "id",
          "mapping_template",
          "validation_template"
        ],
        "properties": {
          "id": {
            "$ref": "#/components/schemas/String"
          },
          "mapping_template": {
            "$ref": "#/components/schemas/JwtTokenTemplateConfig"
          },
          "validation_template": {
            "$ref": "#/components/schemas/JwtTokenTemplateValidationConfig"
          }
        }
      },
      "JwtTokenMappingConfig": {
        "type": "object",
        "required": [
          "issuer_field",
          "audience_field",
          "sub_field",
          "group_to_role_mappings",
          "scope_to_role_mappings",
          "scope_to_group_mappings"
        ],
        "properties": {
          "audience_field": {
            "$ref": "#/components/schemas/MappingSource_String"
          },
          "email_field": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/MappingSource_String"
              }
            ]
          },
          "group_to_role_mappings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GroupToRoleMapping"
            }
          },
          "groups_field": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/MappingSource_String"
              }
            ]
          },
          "issuer_field": {
            "$ref": "#/components/schemas/MappingSource_String"
          },
          "scope_to_group_mappings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScopeToGroupMapping"
            }
          },
          "scope_to_role_mappings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScopeToRoleMapping"
            }
          },
          "scopes_field": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/MappingSource_String"
              }
            ]
          },
          "sub_field": {
            "$ref": "#/components/schemas/MappingSource_String"
          }
        }
      },
      "JwtTokenTemplateConfig": {
        "type": "object",
        "required": [
          "jwks_uri",
          "mapping_template"
        ],
        "properties": {
          "access_token_location": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TokenLocation"
              }
            ]
          },
          "id_token_location": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TokenLocation"
              }
            ]
          },
          "introspect_url": {
            "type": [
              "string",
              "null"
            ]
          },
          "jwks_uri": {
            "type": "string"
          },
          "mapping_template": {
            "$ref": "#/components/schemas/JwtTokenMappingConfig"
          },
          "userinfo_url": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "JwtTokenTemplateValidationConfig": {
        "type": "object",
        "properties": {
          "issuer": {
            "type": [
              "string",
              "null"
            ]
          },
          "required_groups": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "required_scopes": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "valid_audiences": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ListAgentsResponse": {
        "type": "object",
        "description": "Response for listing agents",
        "required": [
          "agents"
        ],
        "properties": {
          "agents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentListItem"
            },
            "description": "List of agents"
          }
        }
      },
      "ListApiKeysResponse": {
        "type": "object",
        "description": "Response from listing API keys",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/HashedApiKey"
            }
          },
          "next_page_token": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ListDecryptedSecretsResponse": {
        "type": "object",
        "required": [
          "secrets"
        ],
        "properties": {
          "next_page_token": {
            "type": [
              "string",
              "null"
            ]
          },
          "secrets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DecryptedSecret"
            }
          }
        }
      },
      "ListEnvironmentVariablesResponse": {
        "type": "object",
        "required": [
          "environment_variables"
        ],
        "properties": {
          "environment_variables": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnvironmentVariable"
            }
          },
          "next_page_token": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ListSecretsResponse": {
        "type": "object",
        "required": [
          "secrets"
        ],
        "properties": {
          "next_page_token": {
            "type": [
              "string",
              "null"
            ]
          },
          "secrets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Secret"
            }
          }
        }
      },
      "ListUserAuthFlowConfigResponse": {
        "type": "object",
        "description": "Response from listing user auth flow configurations",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GetUserAuthFlowConfigResponse"
            },
            "description": "The configurations"
          },
          "next_page_token": {
            "type": [
              "string",
              "null"
            ],
            "description": "Token for the next page, if any"
          }
        }
      },
      "Machine": {
        "type": "object",
        "description": "Authenticated machine identity",
        "required": [
          "sub",
          "role"
        ],
        "properties": {
          "role": {
            "$ref": "#/components/schemas/Role"
          },
          "sub": {
            "type": "string"
          }
        }
      },
      "MappingSource_String": {
        "oneOf": [
          {
            "type": "object",
            "description": "Field is in the OIDC ID token",
            "required": [
              "field",
              "type"
            ],
            "properties": {
              "field": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "id_token"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Field is in the OAuth userinfo",
            "required": [
              "field",
              "type"
            ],
            "properties": {
              "field": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "userinfo"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Field is in the OAuth access token response",
            "required": [
              "field",
              "type"
            ],
            "properties": {
              "field": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "access_token"
                ]
              }
            }
          }
        ],
        "description": "Indicates which token type (ID token for OIDC, access token response for OAuth)\ncontains the field"
      },
      "McpServerInstanceFunctionSerialized": {
        "type": "object",
        "description": "Represents a function mapping within an MCP server instance",
        "required": [
          "mcp_server_instance_id",
          "function_controller_type_id",
          "provider_controller_type_id",
          "provider_instance_id",
          "function_name",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "function_controller_type_id": {
            "type": "string"
          },
          "function_description": {
            "type": [
              "string",
              "null"
            ]
          },
          "function_name": {
            "type": "string"
          },
          "mcp_server_instance_id": {
            "type": "string"
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "provider_instance_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "McpServerInstanceSerializedWithFunctions": {
        "type": "object",
        "description": "Represents an MCP server instance with its associated functions",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at",
          "functions"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "functions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/McpServerInstanceFunctionSerialized"
            }
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "McpServerInstanceSerializedWithFunctionsPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/McpServerInstanceSerializedWithFunctions"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "Message": {
        "type": "object",
        "required": [
          "id",
          "task_id",
          "reference_task_ids",
          "role",
          "metadata",
          "parts",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "parts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessagePart"
            }
          },
          "reference_task_ids": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          },
          "role": {
            "$ref": "#/components/schemas/MessageRole"
          },
          "task_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          }
        }
      },
      "MessagePart": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/TextPart"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "text-part"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "MessageRole": {
        "type": "string",
        "enum": [
          "user",
          "agent"
        ]
      },
      "MessageTaskTimelineItem": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "$ref": "#/components/schemas/Message"
          }
        }
      },
      "Metadata": {
        "type": "object",
        "additionalProperties": {},
        "propertyNames": {
          "type": "string"
        }
      },
      "MigrateAllDataEncryptionKeysParamsRoute": {
        "type": "object",
        "required": [
          "to_envelope_encryption_key_id"
        ],
        "properties": {
          "to_envelope_encryption_key_id": {
            "type": "string"
          }
        }
      },
      "MigrateDataEncryptionKeyParamsRoute": {
        "type": "object",
        "required": [
          "to_envelope_encryption_key_id"
        ],
        "properties": {
          "to_envelope_encryption_key_id": {
            "type": "string"
          }
        }
      },
      "NormalizedTokenIssuanceResult": {
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "expires_in"
        ],
        "properties": {
          "access_token": {
            "type": "string"
          },
          "expires_in": {
            "type": "integer",
            "format": "int64"
          },
          "refresh_token": {
            "type": "string"
          }
        }
      },
      "OauthConfig": {
        "type": "object",
        "description": "OAuth2 configuration for authorization code flow",
        "required": [
          "id",
          "authorization_endpoint",
          "token_endpoint",
          "client_id",
          "client_secret",
          "scopes",
          "jwks_endpoint",
          "mapping"
        ],
        "properties": {
          "authorization_endpoint": {
            "type": "string"
          },
          "client_id": {
            "type": "string"
          },
          "client_secret": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "introspect_url": {
            "type": [
              "string",
              "null"
            ],
            "description": "Token introspection endpoint URL (RFC 7662)\nIf set, access tokens are treated as opaque and introspected via this endpoint"
          },
          "jwks_endpoint": {
            "type": "string"
          },
          "mapping": {
            "$ref": "#/components/schemas/TokenMapping"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "token_endpoint": {
            "type": "string"
          }
        }
      },
      "OidcConfig": {
        "type": "object",
        "description": "OIDC configuration extending OAuth2 with discovery and ID token support",
        "required": [
          "id",
          "base_config",
          "mapping"
        ],
        "properties": {
          "base_config": {
            "$ref": "#/components/schemas/OauthConfig"
          },
          "discovery_endpoint": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "string"
          },
          "introspect_url": {
            "type": [
              "string",
              "null"
            ],
            "description": "Token introspection endpoint URL (RFC 7662)\nIf set, access tokens are treated as opaque and introspected via this endpoint"
          },
          "mapping": {
            "$ref": "#/components/schemas/TokenMapping"
          },
          "userinfo_endpoint": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ProviderControllerSerialized": {
        "type": "object",
        "required": [
          "type_id",
          "name",
          "categories",
          "documentation",
          "functions",
          "credential_controllers"
        ],
        "properties": {
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "credential_controllers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderCredentialControllerSerialized"
            }
          },
          "documentation": {
            "type": "string"
          },
          "functions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FunctionControllerSerialized"
            }
          },
          "name": {
            "type": "string"
          },
          "type_id": {
            "type": "string"
          }
        }
      },
      "ProviderControllerSerializedPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderControllerSerialized"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "ProviderCredentialControllerSerialized": {
        "type": "object",
        "required": [
          "type_id",
          "configuration_schema",
          "name",
          "documentation",
          "requires_brokering",
          "requires_resource_server_credential_refreshing",
          "requires_user_credential_refreshing"
        ],
        "properties": {
          "configuration_schema": {
            "$ref": "#/components/schemas/ConfigurationSchema"
          },
          "documentation": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "requires_brokering": {
            "type": "boolean"
          },
          "requires_resource_server_credential_refreshing": {
            "type": "boolean"
          },
          "requires_user_credential_refreshing": {
            "type": "boolean"
          },
          "type_id": {
            "type": "string"
          }
        }
      },
      "ProviderInstanceListItem": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProviderInstanceSerialized"
          },
          {
            "type": "object",
            "required": [
              "functions",
              "controller",
              "credential_controller"
            ],
            "properties": {
              "controller": {
                "$ref": "#/components/schemas/ProviderControllerSerialized"
              },
              "credential_controller": {
                "$ref": "#/components/schemas/ProviderCredentialControllerSerialized"
              },
              "functions": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/FunctionInstanceListItem"
                }
              }
            }
          }
        ]
      },
      "ProviderInstanceListItemPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderInstanceListItem"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "ProviderInstanceSerialized": {
        "type": "object",
        "required": [
          "id",
          "display_name",
          "resource_server_credential_id",
          "created_at",
          "updated_at",
          "provider_controller_type_id",
          "credential_controller_type_id",
          "status"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "credential_controller_type_id": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "resource_server_credential_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "return_on_successful_brokering": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ReturnAddress"
              }
            ]
          },
          "status": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "user_credential_id": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedUuidV4"
              }
            ]
          }
        }
      },
      "ProviderInstanceSerializedWithCredentials": {
        "type": "object",
        "required": [
          "provider_instance",
          "resource_server_credential"
        ],
        "properties": {
          "provider_instance": {
            "$ref": "#/components/schemas/ProviderInstanceSerialized"
          },
          "resource_server_credential": {
            "$ref": "#/components/schemas/ResourceServerCredentialSerialized"
          },
          "user_credential": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/UserCredentialSerialized"
              }
            ]
          }
        }
      },
      "ProviderInstanceSerializedWithEverything": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProviderInstanceSerializedWithCredentials"
          },
          {
            "type": "object",
            "required": [
              "functions",
              "controller",
              "credential_controller"
            ],
            "properties": {
              "controller": {
                "$ref": "#/components/schemas/ProviderControllerSerialized"
              },
              "credential_controller": {
                "$ref": "#/components/schemas/ProviderCredentialControllerSerialized"
              },
              "functions": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/FunctionInstanceListItem"
                }
              }
            }
          }
        ]
      },
      "RefreshTokenRequest": {
        "type": "object",
        "description": "Request body for refresh token endpoint",
        "properties": {
          "refresh_token": {
            "type": [
              "string",
              "null"
            ],
            "description": "The refresh token. If not provided, will be read from cookie."
          }
        }
      },
      "ResourceServerCredentialSerialized": {
        "type": "object",
        "required": [
          "id",
          "type_id",
          "metadata",
          "value",
          "created_at",
          "updated_at",
          "dek_alias"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "dek_alias": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "next_rotation_time": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedChronoDateTime"
              }
            ]
          },
          "type_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "value": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "ResyncSdkResponse": {
        "type": "object"
      },
      "ReturnAddress": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ReturnAddressUrl"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "url"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "ReturnAddressUrl": {
        "type": "object",
        "required": [
          "url"
        ],
        "properties": {
          "url": {
            "type": "string"
          }
        }
      },
      "Role": {
        "type": "string",
        "description": "User role in the system",
        "enum": [
          "admin",
          "maintainer",
          "agent",
          "user"
        ]
      },
      "RuntimeConfigResponse": {
        "type": "object"
      },
      "ScopeToGroupMapping": {
        "type": "object",
        "required": [
          "scope",
          "group"
        ],
        "properties": {
          "group": {
            "type": "string"
          },
          "scope": {
            "type": "string"
          }
        }
      },
      "ScopeToRoleMapping": {
        "type": "object",
        "required": [
          "scope",
          "role"
        ],
        "properties": {
          "role": {
            "$ref": "#/components/schemas/Role"
          },
          "scope": {
            "type": "string"
          }
        }
      },
      "Secret": {
        "type": "object",
        "required": [
          "id",
          "key",
          "encrypted_secret",
          "dek_alias",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "dek_alias": {
            "type": "string"
          },
          "encrypted_secret": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "key": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "StartUserCredentialBrokeringParamsInner": {
        "type": "object",
        "required": [
          "provider_instance_id"
        ],
        "properties": {
          "provider_instance_id": {
            "type": "string"
          }
        }
      },
      "String": {
        "type": "string"
      },
      "StsTokenConfig": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "JwtTemplate"
            ],
            "properties": {
              "JwtTemplate": {
                "$ref": "#/components/schemas/JwtTemplateModeConfig"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "DevMode"
            ],
            "properties": {
              "DevMode": {
                "$ref": "#/components/schemas/DevModeConfig"
              }
            }
          }
        ]
      },
      "StsTokenConfigPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StsTokenConfig"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "Task": {
        "type": "object",
        "required": [
          "id",
          "context_id",
          "status",
          "status_timestamp",
          "metadata",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "context_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          },
          "status_message_id": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedUuidV4"
              }
            ]
          },
          "status_timestamp": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "TaskPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Task"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "TaskStatus": {
        "type": "string",
        "enum": [
          "submitted",
          "working",
          "input-required",
          "completed",
          "canceled",
          "failed",
          "rejected",
          "auth-required",
          "unknown"
        ]
      },
      "TaskStatusUpdateTaskTimelineItem": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          },
          "status_message_id": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedUuidV4"
              }
            ]
          }
        }
      },
      "TaskTimelineItem": {
        "type": "object",
        "required": [
          "id",
          "task_id",
          "event_payload",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "event_payload": {
            "$ref": "#/components/schemas/TaskTimelineItemPayload"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "task_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          }
        }
      },
      "TaskTimelineItemPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaskTimelineItem"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "TaskTimelineItemPayload": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/TaskStatusUpdateTaskTimelineItem"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "task-status-update"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/MessageTaskTimelineItem"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "message"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "TaskWithDetails": {
        "type": "object",
        "required": [
          "task",
          "messages"
        ],
        "properties": {
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Message"
            }
          },
          "messages_next_page_token": {
            "type": [
              "string",
              "null"
            ]
          },
          "status_message": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Message"
              }
            ]
          },
          "task": {
            "$ref": "#/components/schemas/Task"
          }
        }
      },
      "TextPart": {
        "type": "object",
        "required": [
          "text",
          "metadata"
        ],
        "properties": {
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "text": {
            "type": "string"
          }
        }
      },
      "TokenLocation": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "Header"
            ],
            "properties": {
              "Header": {
                "type": "string"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "Cookie"
            ],
            "properties": {
              "Cookie": {
                "type": "string"
              }
            }
          }
        ]
      },
      "TokenMapping": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "value",
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "jwt_template"
                ]
              },
              "value": {
                "$ref": "#/components/schemas/JwtTokenMappingConfig"
              }
            }
          }
        ]
      },
      "TokenResponse": {
        "type": "object",
        "description": "Response body for token refresh endpoint",
        "required": [
          "access_token",
          "expires_in",
          "token_type"
        ],
        "properties": {
          "access_token": {
            "type": "string",
            "description": "The access token"
          },
          "expires_in": {
            "type": "integer",
            "format": "int64",
            "description": "Token expiration time in seconds"
          },
          "refresh_token": {
            "type": [
              "string",
              "null"
            ],
            "description": "The refresh token (only present on initial auth, not refresh)"
          },
          "token_type": {
            "type": "string",
            "description": "Token type (always \"Bearer\")"
          }
        }
      },
      "TriggerCodegenResponse": {
        "type": "object"
      },
      "TupleUnit": {
        "default": null
      },
      "UpdateAliasParams": {
        "type": "object",
        "required": [
          "new_dek_id"
        ],
        "properties": {
          "new_dek_id": {
            "type": "string"
          }
        }
      },
      "UpdateEnvironmentVariableRequest": {
        "type": "object",
        "required": [
          "value"
        ],
        "properties": {
          "value": {
            "type": "string"
          }
        }
      },
      "UpdateMcpServerInstanceFunctionRequest": {
        "type": "object",
        "required": [
          "function_name"
        ],
        "properties": {
          "function_description": {
            "type": [
              "string",
              "null"
            ]
          },
          "function_name": {
            "type": "string"
          }
        }
      },
      "UpdateMcpServerInstanceRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "UpdateProviderInstanceParamsInner": {
        "type": "object",
        "required": [
          "display_name"
        ],
        "properties": {
          "display_name": {
            "type": "string"
          }
        }
      },
      "UpdateSecretRequest": {
        "type": "object",
        "required": [
          "raw_value"
        ],
        "properties": {
          "raw_value": {
            "type": "string"
          }
        }
      },
      "UpdateTaskStatusRequest": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "message": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CreateMessageRequest"
              }
            ]
          },
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          }
        }
      },
      "UserAuthFlowConfig": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "value",
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "oidc_authorization_code_flow"
                ]
              },
              "value": {
                "$ref": "#/components/schemas/OidcConfig"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "value",
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "oauth_authorization_code_flow"
                ]
              },
              "value": {
                "$ref": "#/components/schemas/OauthConfig"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "value",
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "oidc_authorization_code_pkce_flow"
                ]
              },
              "value": {
                "$ref": "#/components/schemas/OidcConfig"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "value",
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "oauth_authorization_code_pkce_flow"
                ]
              },
              "value": {
                "$ref": "#/components/schemas/OauthConfig"
              }
            }
          }
        ],
        "description": "The four supported IdP configuration types"
      },
      "UserCredentialBrokeringResponse": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/BrokerState"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "broker_state"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserCredentialSerialized"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "user_credential"
                    ]
                  }
                }
              }
            ]
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "redirect"
                ]
              }
            }
          }
        ]
      },
      "UserCredentialSerialized": {
        "type": "object",
        "required": [
          "id",
          "type_id",
          "metadata",
          "value",
          "created_at",
          "updated_at",
          "dek_alias"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "dek_alias": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "next_rotation_time": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedChronoDateTime"
              }
            ]
          },
          "type_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "value": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "WrappedChronoDateTime": {
        "type": "string",
        "format": "date-time"
      },
      "WrappedJsonValue": {},
      "WrappedUuidV4": {
        "type": "string",
        "format": "uuid"
      }
    }
  },
  "tags": [
    {
      "name": "task",
      "description": "Task management endpoints for creating, listing, and managing tasks and their messages"
    },
    {
      "name": "secret",
      "description": "Secret management endpoints for storing and retrieving encrypted secrets"
    },
    {
      "name": "environment-variable",
      "description": "Environment variable management endpoints for storing and retrieving environment variables"
    },
    {
      "name": "encryption",
      "description": "Encryption key management endpoints for envelope keys, data encryption keys, and aliases"
    },
    {
      "name": "bridge",
      "description": "Bridge endpoints for managing providers, credentials, functions, and MCP protocol communication"
    },
    {
      "name": "_internal",
      "description": "Internal endpoints for health checks, runtime configuration, and SDK code generation"
    },
    {
      "name": "agent",
      "description": "Agent management and A2A (agent-to-agent) communication endpoints"
    },
    {
      "name": "identity",
      "description": "Identity management endpoints for JWKs (JSON Web Keys) and authentication"
    },
    {
      "name": "v1",
      "description": "API version v1 endpoints"
    }
  ]
}