{
  "openapi": "3.1.0",
  "info": {
    "title": "utoipa-axum",
    "description": "Utoipa's axum bindings for seamless integration for the two",
    "contact": {
      "name": "Juha Kukkonen",
      "email": "juha7kukkonen@gmail.com"
    },
    "license": {
      "name": "MIT OR Apache-2.0",
      "identifier": "MIT OR Apache-2.0"
    },
    "version": "0.2.0"
  },
  "paths": {
    "/_internal/v1/health": {
      "get": {
        "operationId": "health-check",
        "responses": {
          "200": {
            "description": "Service is healthy"
          },
          "503": {
            "description": "Service unavailable - SDK server not ready"
          }
        }
      }
    },
    "/_internal/v1/runtime_config": {
      "get": {
        "operationId": "get-internal-runtime-config",
        "responses": {
          "200": {
            "description": "Runtime config",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RuntimeConfig"
                }
              }
            }
          }
        }
      }
    },
    "/_internal/v1/trigger_codegen": {
      "post": {
        "operationId": "trigger-codegen",
        "responses": {
          "200": {
            "description": "Codegen triggered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerCodegenResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/a2a/v1": {
      "post": {
        "operationId": "json_rpc",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JsonrpcRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful response"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/a2a/v1/.well-known/agent.json": {
      "get": {
        "operationId": "agent_card",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentCard"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/a2a/v1/agent/authenticatedExtendedCard": {
      "get": {
        "operationId": "extended_agent_card",
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentCard"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/a2a/v1/definition": {
      "get": {
        "operationId": "get-agent-definition",
        "responses": {
          "200": {
            "description": "Agent definition",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SomaAgentDefinition"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers": {
      "get": {
        "operationId": "list-available-providers",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List available providers",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderControllerSerializedPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}": {
      "post": {
        "operationId": "create-provider-instance",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProviderInstanceParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create provider instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderInstanceSerialized"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/resource-server": {
      "post": {
        "operationId": "create-resource-server-credential",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateResourceServerCredentialParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create resource server credential",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResourceServerCredentialSerialized"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/resource-server/encrypt": {
      "post": {
        "operationId": "encrypt-resource-server-configuration",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EncryptCredentialConfigurationParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Encrypt provider configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WrappedJsonValue"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/user-credential": {
      "post": {
        "operationId": "create-user-credential",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserCredentialParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create user credential",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCredentialSerialized"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/user-credential/broker": {
      "post": {
        "operationId": "start-user-credential-brokering",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartUserCredentialBrokeringParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Start user credential brokering",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCredentialBrokeringResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/available-providers/{provider_controller_type_id}/available-credentials/{credential_controller_type_id}/credential/user-credential/encrypt": {
      "post": {
        "operationId": "encrypt-user-credential-configuration",
        "parameters": [
          {
            "name": "provider_controller_type_id",
            "in": "path",
            "description": "Provider controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "credential_controller_type_id",
            "in": "path",
            "description": "Credential controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EncryptCredentialConfigurationParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Encrypt user credential configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WrappedJsonValue"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/encryption/data-encryption-key": {
      "get": {
        "operationId": "list-data-encryption-keys",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List data encryption keys",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataEncryptionKeyListItemPaginatedResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "create-data-encryption-key",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDataEncryptionKeyParams"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create data encryption key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataEncryptionKey"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/function-instances": {
      "get": {
        "operationId": "list-function-instances",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "provider_instance_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List function instances",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FunctionInstanceSerializedPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/function-instances/openapi.json": {
      "get": {
        "operationId": "get-function-instances-openapi-spec",
        "responses": {
          "200": {
            "description": "Get function instances openapi spec",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/generic-oauth-callback": {
      "get": {
        "operationId": "resume-user-credential-brokering",
        "parameters": [
          {
            "name": "state",
            "in": "query",
            "description": "OAuth state parameter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code",
            "in": "query",
            "description": "OAuth authorization code",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "error",
            "in": "query",
            "description": "OAuth error code",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "error_description",
            "in": "query",
            "description": "OAuth error description",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Generic OAuth callback",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserCredentialBrokeringResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/mcp": {
      "get": {
        "tags": [
          "bridge"
        ],
        "operationId": "listen-to-mcp-sse",
        "responses": {
          "200": {
            "description": "MCP server running"
          }
        }
      },
      "post": {
        "tags": [
          "bridge"
        ],
        "operationId": "trigger-mcp-message",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WrappedClientJsonRpcMessage"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "MCP server running"
          }
        }
      }
    },
    "/api/bridge/v1/provider": {
      "get": {
        "operationId": "list-provider-instances",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "provider_controller_type_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List provider instances",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderInstanceListItemPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/grouped-by-function": {
      "get": {
        "operationId": "list-provider-instances-grouped-by-function",
        "parameters": [
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "provider_controller_type_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "function_category",
            "in": "query",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List provider instances grouped by function",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FunctionInstanceConfigPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/{provider_instance_id}": {
      "get": {
        "operationId": "get-provider-instance",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get provider instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProviderInstanceSerializedWithEverything"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete-provider-instance",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Delete provider instance",
            "content": {
              "application/json": {
                "schema": {
                  "default": null
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "operationId": "update-provider-instance",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProviderInstanceParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update provider instance",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/{provider_instance_id}/function/{function_controller_type_id}/disable": {
      "post": {
        "operationId": "disable-function",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "function_controller_type_id",
            "in": "path",
            "description": "Function controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Disable function",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/{provider_instance_id}/function/{function_controller_type_id}/enable": {
      "post": {
        "operationId": "enable-function",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "function_controller_type_id",
            "in": "path",
            "description": "Function controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EnableFunctionParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Enable function",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FunctionInstanceSerialized"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/bridge/v1/provider/{provider_instance_id}/function/{function_controller_type_id}/invoke": {
      "post": {
        "operationId": "invoke-function",
        "parameters": [
          {
            "name": "provider_instance_id",
            "in": "path",
            "description": "Provider instance ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "function_controller_type_id",
            "in": "path",
            "description": "Function controller type ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InvokeFunctionParamsInner"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Invoke function",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvokeResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1": {
      "get": {
        "operationId": "list-tasks",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List tasks",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/context": {
      "get": {
        "operationId": "list-contexts",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          }
        ],
        "responses": {
          "200": {
            "description": "List contexts",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextInfoPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/context/{context_id}/task": {
      "get": {
        "operationId": "list-tasks-by-context-id",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "context_id",
            "in": "path",
            "description": "Context ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List tasks",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/{task_id}": {
      "get": {
        "operationId": "get-task-by-id",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get task by id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskWithDetails"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "update-task-status",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTaskStatusRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Update task status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TupleUnit"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/{task_id}/message": {
      "post": {
        "operationId": "send-message",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Create message",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/task/v1/{task_id}/timeline": {
      "get": {
        "operationId": "task-history",
        "parameters": [
          {
            "name": "page_size",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "style": "form"
          },
          {
            "name": "next_page_token",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "style": "form"
          },
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get task timeline items",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskTimelineItemPaginatedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "502": {
            "description": "Bad Gateway",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AgentCard": {
        "type": "object"
      },
      "BridgeConfig": {
        "type": "object",
        "required": [
          "encryption"
        ],
        "properties": {
          "encryption": {
            "$ref": "#/components/schemas/BridgeEncryptionConfig"
          },
          "providers": {
            "type": [
              "object",
              "null"
            ],
            "additionalProperties": {
              "$ref": "#/components/schemas/ProviderConfig"
            },
            "propertyNames": {
              "type": "string"
            }
          }
        }
      },
      "BridgeEncryptionConfig": {
        "type": "object",
        "additionalProperties": {
          "$ref": "#/components/schemas/EncryptionConfiguration"
        },
        "propertyNames": {
          "type": "string"
        }
      },
      "BrokerAction": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "Redirect"
            ],
            "properties": {
              "Redirect": {
                "type": "object",
                "required": [
                  "url"
                ],
                "properties": {
                  "url": {
                    "type": "string"
                  }
                }
              }
            }
          },
          {
            "type": "string",
            "enum": [
              "None"
            ]
          }
        ]
      },
      "BrokerState": {
        "type": "object",
        "required": [
          "id",
          "created_at",
          "updated_at",
          "provider_instance_id",
          "provider_controller_type_id",
          "credential_controller_type_id",
          "metadata",
          "action"
        ],
        "properties": {
          "action": {
            "$ref": "#/components/schemas/BrokerAction"
          },
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "credential_controller_type_id": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "provider_instance_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "ConfigurationSchema": {
        "type": "object",
        "required": [
          "resource_server",
          "user_credential"
        ],
        "properties": {
          "resource_server": {
            "$ref": "#/components/schemas/JsonSchema"
          },
          "user_credential": {
            "$ref": "#/components/schemas/JsonSchema"
          }
        }
      },
      "ContextInfo": {
        "type": "object",
        "required": [
          "context_id",
          "created_at"
        ],
        "properties": {
          "context_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "ContextInfoPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContextInfo"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "CreateDataEncryptionKeyParams": {
        "type": "object",
        "properties": {
          "encrypted_data_envelope_key": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/EncryptedDataEncryptionKey"
              }
            ]
          },
          "id": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "CreateMessageRequest": {
        "type": "object",
        "required": [
          "reference_task_ids",
          "role",
          "metadata",
          "parts"
        ],
        "properties": {
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "parts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessagePart"
            }
          },
          "reference_task_ids": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          },
          "role": {
            "$ref": "#/components/schemas/MessageRole"
          }
        }
      },
      "CreateMessageResponse": {
        "type": "object",
        "required": [
          "message",
          "timeline_item"
        ],
        "properties": {
          "message": {
            "$ref": "#/components/schemas/Message"
          },
          "timeline_item": {
            "$ref": "#/components/schemas/TaskTimelineItem"
          }
        }
      },
      "CreateProviderInstanceParamsInner": {
        "type": "object",
        "required": [
          "resource_server_credential_id",
          "display_name"
        ],
        "properties": {
          "display_name": {
            "type": "string"
          },
          "provider_instance_id": {
            "type": [
              "string",
              "null"
            ]
          },
          "resource_server_credential_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "return_on_successful_brokering": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ReturnAddress"
              }
            ]
          },
          "user_credential_id": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedUuidV4"
              }
            ]
          }
        }
      },
      "CreateResourceServerCredentialParamsInner": {
        "type": "object",
        "required": [
          "resource_server_configuration",
          "data_encryption_key_id"
        ],
        "properties": {
          "data_encryption_key_id": {
            "type": "string"
          },
          "metadata": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Metadata"
              }
            ]
          },
          "resource_server_configuration": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "CreateUserCredentialParamsInner": {
        "type": "object",
        "required": [
          "user_credential_configuration",
          "data_encryption_key_id"
        ],
        "properties": {
          "data_encryption_key_id": {
            "type": "string"
          },
          "metadata": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Metadata"
              }
            ]
          },
          "user_credential_configuration": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "CredentialConfig": {
        "type": "object",
        "required": [
          "id",
          "type_id",
          "metadata",
          "value",
          "data_encryption_key_id"
        ],
        "properties": {
          "data_encryption_key_id": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "metadata": {},
          "next_rotation_time": {
            "type": [
              "string",
              "null"
            ]
          },
          "type_id": {
            "type": "string"
          },
          "value": {}
        }
      },
      "DataEncryptionKey": {
        "type": "object",
        "required": [
          "id",
          "envelope_encryption_key_id",
          "encrypted_data_encryption_key",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "encrypted_data_encryption_key": {
            "$ref": "#/components/schemas/EncryptedDataEncryptionKey"
          },
          "envelope_encryption_key_id": {
            "$ref": "#/components/schemas/EnvelopeEncryptionKeyId"
          },
          "id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "DataEncryptionKeyListItem": {
        "type": "object",
        "required": [
          "id",
          "envelope_encryption_key_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "envelope_encryption_key_id": {
            "$ref": "#/components/schemas/EnvelopeEncryptionKeyId"
          },
          "id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "DataEncryptionKeyListItemPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DataEncryptionKeyListItem"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "EnableFunctionParamsInner": {
        "type": "object"
      },
      "EncryptCredentialConfigurationParamsInner": {
        "type": "object",
        "required": [
          "value",
          "data_encryption_key_id"
        ],
        "properties": {
          "data_encryption_key_id": {
            "type": "string"
          },
          "value": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "EncryptedDataEncryptionKey": {
        "type": "string"
      },
      "EncryptionConfiguration": {
        "type": "object",
        "required": [
          "encrypted_data_encryption_key",
          "envelope_encryption_key_id"
        ],
        "properties": {
          "encrypted_data_encryption_key": {
            "type": "string"
          },
          "envelope_encryption_key_id": {
            "$ref": "#/components/schemas/EnvelopeEncryptionKeyId"
          }
        }
      },
      "EnvelopeEncryptionKeyId": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "arn",
              "type"
            ],
            "properties": {
              "arn": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "aws_kms"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "key_id",
              "type"
            ],
            "properties": {
              "key_id": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "local"
                ]
              }
            }
          }
        ]
      },
      "Error": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "data": {},
          "message": {
            "type": "string"
          }
        }
      },
      "FunctionControllerSerialized": {
        "type": "object",
        "required": [
          "type_id",
          "name",
          "documentation",
          "parameters",
          "output",
          "categories"
        ],
        "properties": {
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "documentation": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "output": {
            "$ref": "#/components/schemas/JsonSchema"
          },
          "parameters": {
            "$ref": "#/components/schemas/JsonSchema"
          },
          "type_id": {
            "type": "string"
          }
        }
      },
      "FunctionInstanceConfig": {
        "type": "object",
        "required": [
          "function_controller",
          "provider_controller",
          "provider_instances"
        ],
        "properties": {
          "function_controller": {
            "$ref": "#/components/schemas/FunctionControllerSerialized"
          },
          "provider_controller": {
            "$ref": "#/components/schemas/ProviderControllerSerialized"
          },
          "provider_instances": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderInstanceSerializedWithCredentials"
            }
          }
        }
      },
      "FunctionInstanceConfigPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FunctionInstanceConfig"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "FunctionInstanceListItem": {
        "allOf": [
          {
            "$ref": "#/components/schemas/FunctionInstanceSerialized"
          },
          {
            "type": "object",
            "required": [
              "controller"
            ],
            "properties": {
              "controller": {
                "$ref": "#/components/schemas/FunctionControllerSerialized"
              }
            }
          }
        ]
      },
      "FunctionInstanceSerialized": {
        "type": "object",
        "required": [
          "function_controller_type_id",
          "provider_controller_type_id",
          "provider_instance_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "function_controller_type_id": {
            "type": "string"
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "provider_instance_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "FunctionInstanceSerializedPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FunctionInstanceSerialized"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "InvokeError": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "InvokeFunctionParamsInner": {
        "type": "object",
        "required": [
          "params"
        ],
        "properties": {
          "params": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "InvokeResult": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/WrappedJsonValue"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "success"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvokeError"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "error"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "JsonSchema": {
        "type": "object",
        "additionalProperties": true
      },
      "JsonrpcRequest": {
        "type": "object"
      },
      "Message": {
        "type": "object",
        "required": [
          "id",
          "task_id",
          "reference_task_ids",
          "role",
          "metadata",
          "parts",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "parts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessagePart"
            }
          },
          "reference_task_ids": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WrappedUuidV4"
            }
          },
          "role": {
            "$ref": "#/components/schemas/MessageRole"
          },
          "task_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          }
        }
      },
      "MessagePart": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/TextPart"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "text-part"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "MessageRole": {
        "type": "string",
        "enum": [
          "user",
          "agent"
        ]
      },
      "MessageTaskTimelineItem": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "$ref": "#/components/schemas/Message"
          }
        }
      },
      "Metadata": {
        "type": "object",
        "additionalProperties": {},
        "propertyNames": {
          "type": "string"
        }
      },
      "ProviderConfig": {
        "type": "object",
        "required": [
          "provider_controller_type_id",
          "credential_controller_type_id",
          "display_name",
          "resource_server_credential"
        ],
        "properties": {
          "credential_controller_type_id": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "functions": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "resource_server_credential": {
            "$ref": "#/components/schemas/CredentialConfig"
          },
          "user_credential": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CredentialConfig"
              }
            ]
          }
        }
      },
      "ProviderControllerSerialized": {
        "type": "object",
        "required": [
          "type_id",
          "name",
          "categories",
          "documentation",
          "functions",
          "credential_controllers"
        ],
        "properties": {
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "credential_controllers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderCredentialControllerSerialized"
            }
          },
          "documentation": {
            "type": "string"
          },
          "functions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FunctionControllerSerialized"
            }
          },
          "name": {
            "type": "string"
          },
          "type_id": {
            "type": "string"
          }
        }
      },
      "ProviderControllerSerializedPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderControllerSerialized"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "ProviderCredentialControllerSerialized": {
        "type": "object",
        "required": [
          "type_id",
          "configuration_schema",
          "name",
          "documentation",
          "requires_brokering",
          "requires_resource_server_credential_refreshing",
          "requires_user_credential_refreshing"
        ],
        "properties": {
          "configuration_schema": {
            "$ref": "#/components/schemas/ConfigurationSchema"
          },
          "documentation": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "requires_brokering": {
            "type": "boolean"
          },
          "requires_resource_server_credential_refreshing": {
            "type": "boolean"
          },
          "requires_user_credential_refreshing": {
            "type": "boolean"
          },
          "type_id": {
            "type": "string"
          }
        }
      },
      "ProviderInstanceListItem": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProviderInstanceSerialized"
          },
          {
            "type": "object",
            "required": [
              "functions",
              "controller",
              "credential_controller"
            ],
            "properties": {
              "controller": {
                "$ref": "#/components/schemas/ProviderControllerSerialized"
              },
              "credential_controller": {
                "$ref": "#/components/schemas/ProviderCredentialControllerSerialized"
              },
              "functions": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/FunctionInstanceListItem"
                }
              }
            }
          }
        ]
      },
      "ProviderInstanceListItemPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProviderInstanceListItem"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "ProviderInstanceSerialized": {
        "type": "object",
        "required": [
          "id",
          "display_name",
          "resource_server_credential_id",
          "created_at",
          "updated_at",
          "provider_controller_type_id",
          "credential_controller_type_id",
          "status"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "credential_controller_type_id": {
            "type": "string"
          },
          "display_name": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "provider_controller_type_id": {
            "type": "string"
          },
          "resource_server_credential_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "return_on_successful_brokering": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ReturnAddress"
              }
            ]
          },
          "status": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "user_credential_id": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedUuidV4"
              }
            ]
          }
        }
      },
      "ProviderInstanceSerializedWithCredentials": {
        "type": "object",
        "required": [
          "provider_instance",
          "resource_server_credential"
        ],
        "properties": {
          "provider_instance": {
            "$ref": "#/components/schemas/ProviderInstanceSerialized"
          },
          "resource_server_credential": {
            "$ref": "#/components/schemas/ResourceServerCredentialSerialized"
          },
          "user_credential": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/UserCredentialSerialized"
              }
            ]
          }
        }
      },
      "ProviderInstanceSerializedWithEverything": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProviderInstanceSerializedWithCredentials"
          },
          {
            "type": "object",
            "required": [
              "functions",
              "controller",
              "credential_controller"
            ],
            "properties": {
              "controller": {
                "$ref": "#/components/schemas/ProviderControllerSerialized"
              },
              "credential_controller": {
                "$ref": "#/components/schemas/ProviderCredentialControllerSerialized"
              },
              "functions": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/FunctionInstanceListItem"
                }
              }
            }
          }
        ]
      },
      "ResourceServerCredentialSerialized": {
        "type": "object",
        "required": [
          "id",
          "type_id",
          "metadata",
          "value",
          "created_at",
          "updated_at",
          "data_encryption_key_id"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "data_encryption_key_id": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "next_rotation_time": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedChronoDateTime"
              }
            ]
          },
          "type_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "value": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "ReturnAddress": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ReturnAddressUrl"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "url"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "ReturnAddressUrl": {
        "type": "object",
        "required": [
          "url"
        ],
        "properties": {
          "url": {
            "type": "string"
          }
        }
      },
      "RuntimeConfig": {
        "type": "object"
      },
      "SomaAgentDefinition": {
        "type": "object",
        "required": [
          "version"
        ],
        "properties": {
          "bridge": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/BridgeConfig"
              }
            ]
          },
          "version": {
            "type": "string"
          }
        }
      },
      "StartUserCredentialBrokeringParamsInner": {
        "type": "object",
        "required": [
          "provider_instance_id"
        ],
        "properties": {
          "provider_instance_id": {
            "type": "string"
          }
        }
      },
      "Task": {
        "type": "object",
        "required": [
          "id",
          "context_id",
          "status",
          "status_timestamp",
          "metadata",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "context_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          },
          "status_message_id": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedUuidV4"
              }
            ]
          },
          "status_timestamp": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          }
        }
      },
      "TaskPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Task"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "TaskStatus": {
        "type": "string",
        "enum": [
          "submitted",
          "working",
          "input-required",
          "completed",
          "canceled",
          "failed",
          "rejected",
          "auth-required",
          "unknown"
        ]
      },
      "TaskStatusUpdateTaskTimelineItem": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          },
          "status_message_id": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedUuidV4"
              }
            ]
          }
        }
      },
      "TaskTimelineItem": {
        "type": "object",
        "required": [
          "id",
          "task_id",
          "event_payload",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "event_payload": {
            "$ref": "#/components/schemas/TaskTimelineItemPayload"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "task_id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          }
        }
      },
      "TaskTimelineItemPaginatedResponse": {
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaskTimelineItem"
            }
          },
          "next_page_token": {
            "type": "string"
          }
        }
      },
      "TaskTimelineItemPayload": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/TaskStatusUpdateTaskTimelineItem"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "task-status-update"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/MessageTaskTimelineItem"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "message"
                    ]
                  }
                }
              }
            ]
          }
        ]
      },
      "TaskWithDetails": {
        "type": "object",
        "required": [
          "task",
          "messages"
        ],
        "properties": {
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Message"
            }
          },
          "messages_next_page_token": {
            "type": [
              "string",
              "null"
            ]
          },
          "status_message": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Message"
              }
            ]
          },
          "task": {
            "$ref": "#/components/schemas/Task"
          }
        }
      },
      "TextPart": {
        "type": "object",
        "required": [
          "text",
          "metadata"
        ],
        "properties": {
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "text": {
            "type": "string"
          }
        }
      },
      "TriggerCodegenResponse": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "TupleUnit": {
        "default": null
      },
      "UpdateProviderInstanceParamsInner": {
        "type": "object",
        "required": [
          "display_name"
        ],
        "properties": {
          "display_name": {
            "type": "string"
          }
        }
      },
      "UpdateTaskStatusRequest": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "message": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/CreateMessageRequest"
              }
            ]
          },
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          }
        }
      },
      "UserCredentialBrokeringResponse": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/BrokerState"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "broker_state"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserCredentialSerialized"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "user_credential"
                    ]
                  }
                }
              }
            ]
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "redirect"
                ]
              }
            }
          }
        ]
      },
      "UserCredentialSerialized": {
        "type": "object",
        "required": [
          "id",
          "type_id",
          "metadata",
          "value",
          "created_at",
          "updated_at",
          "data_encryption_key_id"
        ],
        "properties": {
          "created_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "data_encryption_key_id": {
            "type": "string"
          },
          "id": {
            "$ref": "#/components/schemas/WrappedUuidV4"
          },
          "metadata": {
            "$ref": "#/components/schemas/Metadata"
          },
          "next_rotation_time": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/WrappedChronoDateTime"
              }
            ]
          },
          "type_id": {
            "type": "string"
          },
          "updated_at": {
            "$ref": "#/components/schemas/WrappedChronoDateTime"
          },
          "value": {
            "$ref": "#/components/schemas/WrappedJsonValue"
          }
        }
      },
      "WrappedChronoDateTime": {
        "type": "string",
        "format": "date-time"
      },
      "WrappedClientJsonRpcMessage": {
        "type": "object"
      },
      "WrappedJsonValue": {},
      "WrappedUuidV4": {
        "type": "string",
        "format": "uuid"
      }
    }
  }
}